"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[919],{9183:(e,t,n)=>{n.d(t,{j:()=>a});var l=n(8222);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=(0,l.ref)(null),a=(0,l.ref)(null),r=(0,l.ref)(t);function o(e){e.forEach((function(e){e.name=e.fname,1==e.level&&s(e,11),2==e.level&&u.value>1&&s(e,11),3==e.level&&u.value>2&&s(e,10),4==e.level&&u.value>3&&s(e,10),5==e.level&&u.value>4&&s(e,8),6==e.level&&u.value>5&&s(e,8),7==e.level&&u.value>6&&s(e,8),8==e.level&&u.value>7&&s(e,7),9==e.level&&u.value>8&&s(e,7),e.children=e.children.filter((function(t){return e.id==t.parent_id})),e.childrenCount=e.children.length,o(e.children)}))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;axios.get("getusers/".concat(e)).then((function(e){var t=e.data;a.value=t,o(t.children)}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;axios.get("getusers/".concat(e,"/").concat(t)).then((function(e){var t=e.data;a.value=t,o(t.children)}))}e?c(r.value,e):i(r.value);var u=(0,l.computed)((function(){var e,t,n=null===(e=a.value)||void 0===e?void 0:e.children.filter((function(e){return e.total>=30})).length,l=null===(t=a.value)||void 0===t?void 0:t.total,r=function(){var e,t=0;return null===(e=a.value)||void 0===e||e.children.forEach((function(e,n,l){l.length>4&&l.filter((function(e){return e.summaBranch>=25e3})).length>4?t=9:l.length>3&&l.filter((function(e){return e.summaBranch>=5e3})).length>3?t=8:l.length>=3&&l.filter((function(e){return e.summaBranch>=2e3})).length>=3?t=7:l.length>=3&&l.filter((function(e){return e.summaBranch>=600})).length>=3?t=6:l.length>=2&&l.filter((function(e){return e.summaBranch>=300})).length>=2?t=5:l.length>=2&&l.filter((function(e){return e.summaBranch>=100})).length>=2&&(t=4)})),t}();return n>=9&&l>=5e3&&9==r?9:n>=8&&l>=2500&&r>=8?8:n>=7&&l>=1200&&r>=7?7:n>=6&&l>=600&&r>=6?6:n>=5&&l>=250&&r>=5?5:n>=4&&l>=120&&r>=4?4:n>=3&&l>=60?3:n>=2?2:1}));function s(e,t){var l=+e.total/100*t;e.procent=Math.round(100*l)/100/2,n.value+=e.procent}return{levels:u,totalPrice:n,user:a,period:r,changePeriod:function(){n.value=null,e?c(r.value,e):i(r.value)},getSelectedPeoples:c}}},6716:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),a=n.n(l)()((function(e){return e[1]}));a.push([e.id,".tree-container .link{stroke-width:1px!important;stroke:#ee5fa6!important}",""]);const r=a},8919:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var l=n(8222),a=n(1207),r=n.n(a),o=(n(8033),n(9183)),i={class:"px-3"},c={class:"text-xl font-semibold"},u=(0,l.createElementVNode)("span",null,"Darajangiz:",-1),s={class:"text-teal-500 pl-2"},d={class:"text-xl font-semibold"},f={class:"text-teal-500 pl-2"},m={class:"flex justify-between mb-5 items-end"},v=(0,l.createElementVNode)("span",{class:"font-semibold"},"Mavsum kunlari:",-1),h={class:"pl-2"},p={class:"flex flex-col"},g=(0,l.createElementVNode)("label",{for:"period",class:"text-gray-500 mb-1 w-full inline-block text-right text-sm"},"Mavsum",-1),x=["value"],E={class:"flex justify-start mb-2"},V=[(0,l.createElementVNode)("i",{class:"fal fa-search-plus text-xl mr-4 p-4"},null,-1)],N=[(0,l.createElementVNode)("i",{class:"fal fa-search-minus text-xl ml-6"},null,-1)],k={class:"bg-white border-t-2 border-pink-500 w-32 px-2 pt-1 pb-2 shadow relative"},y={class:"flex flex-col px-1"},b={class:"flex justify-between items-center w-full"},w={class:"text-gray-500 text-md font-semibold"},B={class:"text-pink-500 text-md"},S={class:"flex justify-between items-center w-full"},D={class:"text-gray-500 text-xs"},C={class:"text-gray-500 text-xs"},P={key:0,class:"absolute right-1/2 bottom-0 translate-x-1/2"},j=[(0,l.createElementVNode)("i",{class:"fal fa-angle-down leading-none relative top-[5px] text-pink-500"},null,-1)];const M={__name:"MyPeoples",setup:function(e){var t=(0,l.reactive)({name:null,children:[]}),n=(0,o.j)(null,store.state.user.lastPeriod),a=n.levels,M=n.totalPrice,_=n.user,z=n.period,Z=n.changePeriod,H=(0,l.ref)(null);return(0,l.watch)((function(){return _.value}),(function(){t.name=_.value.fname,t.total=_.value.periodSumma,t.children=_.value.children,t.childrenCount=_.value.children.length})),function(e,n){var o,$;return(0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("h3",c,[u,(0,l.createElementVNode)("span",s,(0,l.toDisplayString)(e.$store.state.statuses[(0,l.unref)(a)-1]),1)]),(0,l.createElementVNode)("h3",d,[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)((0,l.unref)(z))+" mavsum uchun pul miqdori:",1),(0,l.createElementVNode)("span",f,(0,l.toDisplayString)((0,l.unref)(M)),1)]),(0,l.createElementVNode)("main",m,[(0,l.createElementVNode)("div",null,[v,(0,l.createElementVNode)("span",h,(0,l.toDisplayString)(null===(o=(0,l.unref)(_))||void 0===o?void 0:o.days[0])+" - "+(0,l.toDisplayString)(null===($=(0,l.unref)(_))||void 0===$?void 0:$.days[1]),1)]),(0,l.createElementVNode)("div",p,[g,(0,l.withDirectives)((0,l.createElementVNode)("select",{id:"period","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,l.isRef)(z)?z.value=e:null}),onChange:n[1]||(n[1]=function(){return(0,l.unref)(Z)&&(0,l.unref)(Z).apply(void 0,arguments)}),class:"border-b outline-none px-2 py-0.5"},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.$store.state.user.lastPeriod,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("option",{value:e},(0,l.toDisplayString)(e)+" Mavsum",9,x)})),256))],544),[[l.vModelSelect,(0,l.unref)(z)]])])]),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("button",{onClick:n[2]||(n[2]=function(e){return H.value.zoomIn()})},V),(0,l.createElementVNode)("button",{onClick:n[3]||(n[3]=function(e){return H.value.zoomOut()})},N)]),(0,l.unref)(_)?((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(r()),{key:0,ref_key:"tree",ref:H,class:"bg-stone-50 w-full h-[700px] shadow-inner",dataset:t,config:{nodeWidth:150,nodeHeight:80,levelHeight:200},linkStyle:"straight"},{node:(0,l.withCtx)((function(e){var t=e.node,n=e.collapsed;return[(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("main",y,[(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("span",w,(0,l.toDisplayString)(t.name),1),(0,l.createElementVNode)("span",B,(0,l.toDisplayString)(t.summaBranch),1)]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("span",D,(0,l.toDisplayString)(t.total),1),(0,l.createElementVNode)("span",C,(0,l.toDisplayString)(t.procent),1)])]),t.childrenCount>0&&n?((0,l.openBlock)(),(0,l.createElementBlock)("span",P,j)):(0,l.createCommentVNode)("",!0)])]})),_:1},8,["dataset"])):(0,l.createCommentVNode)("",!0)])}}};var _=n(3379),z=n.n(_),Z=n(6716),H={insert:"head",singleton:!1};z()(Z.Z,H);Z.Z.locals;const $=M}}]);